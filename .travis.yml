language: cpp
matrix:
  include:
  - os: linux
    env: PROJECT=xonotic OS="linux32"
    compiler: gcc
    sudo: required  # For chroot to the i386 environment.
    addons:
      apt:
        packages:
          - debootstrap
  - os: linux
    env: PROJECT=xonotic OS="linux64"
    compiler: gcc
    sudo: required  # TODO: remove the need.
    addons:
      apt:
        packages:
          - libxpm-dev
          - libsdl1.2-dev
          - libxxf86vm-dev
  - os: linux
    env: PROJECT=xonotic OS="win32"
    compiler: gcc
    sudo: required  # TODO: remove the need.
  - os: linux
    env: PROJECT=xonotic OS="win64"
    compiler: gcc
    sudo: required  # TODO: remove the need.
  - os: osx
    env: PROJECT=xonotic OS="osx"
    compiler: gcc
    osx_image: xcode8.2
before_install:
- "./.travis-before_install-${PROJECT}.sh $OS"
install:
- true
before_script:
- true
script:
- "./.travis-script-${PROJECT}.sh $OS"
after_success:
- true
after_failure:
- true
after_script:
- true
